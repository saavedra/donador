/* 
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
$(document).ready(function(){
    $communes = {"listOfCommunes":{"commune":[{"id":"1","name":"Arica","region":"14"},{"id":"2","name":"Camarones","region":"14"},{"id":"3","name":"Putre","region":"14"},{"id":"4","name":"General Lagos","region":"14"},{"id":"5","name":"Iquique","region":"1"},{"id":"6","name":"Alto Hospicio","region":"1"},{"id":"7","name":"Pozo Almonte","region":"1"},{"id":"8","name":"Camiña","region":"1"},{"id":"9","name":"Colchane","region":"1"},{"id":"10","name":"Huara","region":"1"},{"id":"11","name":"Pica","region":"1"},{"id":"12","name":"Antofagasta","region":"2"},{"id":"13","name":"Mejillones","region":"2"},{"id":"14","name":"Sierra Gorda","region":"2"},{"id":"15","name":"Taltal","region":"2"},{"id":"16","name":"Calama","region":"2"},{"id":"17","name":"Ollagüe","region":"2"},{"id":"18","name":"San Pedro de Atacama","region":"2"},{"id":"19","name":"Tocopilla","region":"2"},{"id":"20","name":"Maria elena","region":"2"},{"id":"21","name":"Copiapó","region":"3"},{"id":"22","name":"Caldera","region":"3"},{"id":"23","name":"Tierra Amarilla","region":"3"},{"id":"24","name":"Chañaral","region":"3"},{"id":"25","name":"Diego de Almagro","region":"3"},{"id":"26","name":"Vallenar","region":"3"},{"id":"27","name":"Alto del Carmen","region":"3"},{"id":"28","name":"Freirina","region":"3"},{"id":"29","name":"Huasco","region":"3"},{"id":"30","name":"La Serena","region":"4"},{"id":"31","name":"Coquimbo","region":"4"},{"id":"32","name":"Andacollo","region":"4"},{"id":"33","name":"La Higuera","region":"4"},{"id":"34","name":"Paiguano","region":"4"},{"id":"35","name":"Vicuña","region":"4"},{"id":"36","name":"Illapel","region":"4"},{"id":"37","name":"Canela","region":"4"},{"id":"38","name":"Los Vilos","region":"4"},{"id":"39","name":"Salamanca","region":"4"},{"id":"40","name":"Ovalle","region":"4"},{"id":"41","name":"Combarbalá","region":"4"},{"id":"42","name":"Monte Patria","region":"4"},{"id":"43","name":"Punitaqui","region":"4"},{"id":"44","name":"Río Hurtado","region":"4"},{"id":"45","name":"Valparaíso","region":"5"},{"id":"46","name":"Casablanca","region":"5"},{"id":"47","name":"Concón","region":"5"},{"id":"48","name":"Juan Fernández","region":"5"},{"id":"49","name":"Puchuncaví","region":"5"},{"id":"50","name":"Quintero","region":"5"},{"id":"51","name":"Viña del Mar","region":"5"},{"id":"52","name":"Isla de Pascua","region":"5"},{"id":"53","name":"Los Andes","region":"5"},{"id":"54","name":"Calle Larga","region":"5"},{"id":"55","name":"Rinconada","region":"5"},{"id":"56","name":"San Esteban","region":"5"},{"id":"57","name":"La Ligua","region":"5"},{"id":"58","name":"Cabildo","region":"5"},{"id":"59","name":"Papudo","region":"5"},{"id":"60","name":"Petorca","region":"5"},{"id":"61","name":"Zapallar","region":"5"},{"id":"62","name":"Quillota","region":"5"},{"id":"63","name":"Calera","region":"5"},{"id":"64","name":"Hijuelas","region":"5"},{"id":"65","name":"La Cruz","region":"5"},{"id":"66","name":"Nogales","region":"5"},{"id":"67","name":"San Antonio","region":"5"},{"id":"68","name":"Algarrobo","region":"5"},{"id":"69","name":"Cartagena","region":"5"},{"id":"70","name":"El Quisco","region":"5"},{"id":"71","name":"El Tabo","region":"5"},{"id":"72","name":"Santo Domingo","region":"5"},{"id":"73","name":"San Felipe","region":"5"},{"id":"74","name":"Catemu","region":"5"},{"id":"75","name":"Llaillay","region":"5"},{"id":"76","name":"Panquehue","region":"5"},{"id":"77","name":"Putaendo","region":"5"},{"id":"78","name":"Santa María","region":"5"},{"id":"79","name":"Limache","region":"5"},{"id":"80","name":"Quilpué","region":"5"},{"id":"81","name":"Villa Alemana","region":"5"},{"id":"82","name":"Olmué","region":"5"},{"id":"83","name":"Rancagua","region":"6"},{"id":"84","name":"Codegua","region":"6"},{"id":"85","name":"Coinco","region":"6"},{"id":"86","name":"Coltauco","region":"6"},{"id":"87","name":"Doñihue","region":"6"},{"id":"88","name":"Graneros","region":"6"},{"id":"89","name":"Las Cabras","region":"6"},{"id":"90","name":"Machalí","region":"6"},{"id":"91","name":"Malloa","region":"6"},{"id":"92","name":"Mostazal","region":"6"},{"id":"93","name":"Olivar","region":"6"},{"id":"94","name":"Peumo","region":"6"},{"id":"95","name":"Pichidegua","region":"6"},{"id":"96","name":"Quinta de Tilcoco","region":"6"},{"id":"97","name":"Rengo","region":"6"},{"id":"98","name":"Requínoa","region":"6"},{"id":"99","name":"San Vicente","region":"6"},{"id":"100","name":"Pichilemu","region":"6"},{"id":"101","name":"La Estrella","region":"6"},{"id":"102","name":"Litueche","region":"6"},{"id":"103","name":"Marchihue","region":"6"},{"id":"104","name":"Navidad","region":"6"},{"id":"105","name":"Paredones","region":"6"},{"id":"106","name":"San Fernando","region":"6"},{"id":"107","name":"Chépica","region":"6"},{"id":"108","name":"Chimbarongo","region":"6"},{"id":"109","name":"Lolol","region":"6"},{"id":"110","name":"Nancagua","region":"6"},{"id":"111","name":"Palmilla","region":"6"},{"id":"112","name":"Peralillo","region":"6"},{"id":"113","name":"Placilla","region":"6"},{"id":"114","name":"Pumanque","region":"6"},{"id":"115","name":"Santa Cruz","region":"6"},{"id":"116","name":"Talca","region":"7"},{"id":"117","name":"Constitución","region":"7"},{"id":"118","name":"Curepto","region":"7"},{"id":"119","name":"Empedrado","region":"7"},{"id":"120","name":"Maule","region":"7"},{"id":"121","name":"Pelarco","region":"7"},{"id":"122","name":"Pencahue","region":"7"},{"id":"123","name":"Río Claro","region":"7"},{"id":"124","name":"Sam Clemente","region":"7"},{"id":"125","name":"San Rafael","region":"7"},{"id":"126","name":"Cauquenes","region":"7"},{"id":"127","name":"Chancho","region":"7"},{"id":"128","name":"Pelluhue","region":"7"},{"id":"129","name":"Curicó","region":"7"},{"id":"130","name":"Hualañé","region":"7"},{"id":"131","name":"Licantén","region":"7"},{"id":"132","name":"Molina","region":"7"},{"id":"133","name":"Rauco","region":"7"},{"id":"134","name":"Romeral","region":"7"},{"id":"135","name":"Sagrada Familia","region":"7"},{"id":"136","name":"Teno","region":"7"},{"id":"137","name":"Vichuquén","region":"7"},{"id":"138","name":"Linares","region":"7"},{"id":"139","name":"Colbún","region":"7"},{"id":"140","name":"Longaví","region":"7"},{"id":"141","name":"Parral","region":"7"},{"id":"142","name":"Retiro","region":"7"},{"id":"143","name":"San Javier","region":"7"},{"id":"144","name":"Villa Alegre","region":"7"},{"id":"145","name":"Yerbas Buenas","region":"7"},{"id":"146","name":"Concepción","region":"8"},{"id":"147","name":"Coronel","region":"8"},{"id":"148","name":"Chiguayante","region":"8"},{"id":"149","name":"Florida","region":"8"},{"id":"150","name":"Hualqui","region":"8"},{"id":"151","name":"Lota","region":"8"},{"id":"152","name":"Penco","region":"8"},{"id":"153","name":"San Pedro de la Paz","region":"8"},{"id":"154","name":"Santa Juana","region":"8"},{"id":"155","name":"Talcahuano","region":"8"},{"id":"156","name":"Tomé","region":"8"},{"id":"157","name":"Hualpén","region":"8"},{"id":"158","name":"Lebu","region":"8"},{"id":"159","name":"Arauco","region":"8"},{"id":"160","name":"Cañete","region":"8"},{"id":"161","name":"Contulmo","region":"8"},{"id":"162","name":"Curanilahue","region":"8"},{"id":"163","name":"Los Alamos","region":"8"},{"id":"164","name":"Tirúa","region":"8"},{"id":"165","name":"Los Angeles","region":"8"},{"id":"166","name":"Antuco","region":"8"},{"id":"167","name":"Cabrero","region":"8"},{"id":"168","name":"Laja","region":"8"},{"id":"169","name":"Mulchén","region":"8"},{"id":"170","name":"Nacimiento","region":"8"},{"id":"171","name":"Negrete","region":"8"},{"id":"172","name":"Quilaco","region":"8"},{"id":"173","name":"Quilleco","region":"8"},{"id":"174","name":"San Rosendo","region":"8"},{"id":"175","name":"Santa Bárbara","region":"8"},{"id":"176","name":"Tucapel","region":"8"},{"id":"177","name":"Yumbel","region":"8"},{"id":"178","name":"Alto Biobío","region":"8"},{"id":"179","name":"Chillán","region":"8"},{"id":"180","name":"Bulnes","region":"8"},{"id":"181","name":"Cobquecura","region":"8"},{"id":"182","name":"Coelemu","region":"8"},{"id":"183","name":"Coihueco","region":"8"},{"id":"184","name":"Chillán Viejo","region":"8"},{"id":"185","name":"El Carmen","region":"8"},{"id":"186","name":"Ninhue","region":"8"},{"id":"187","name":"Ñiquén","region":"8"},{"id":"188","name":"Pemuco","region":"8"},{"id":"189","name":"Pinto","region":"8"},{"id":"190","name":"Portezuelo","region":"8"},{"id":"191","name":"Quillón","region":"8"},{"id":"192","name":"Quirihue","region":"8"},{"id":"193","name":"Ránquil","region":"8"},{"id":"194","name":"San Carlos","region":"8"},{"id":"195","name":"San Fabián","region":"8"},{"id":"196","name":"San Ignacio","region":"8"},{"id":"197","name":"San Nicolás","region":"8"},{"id":"198","name":"Treguaco","region":"8"},{"id":"199","name":"Yungay","region":"8"},{"id":"200","name":"Temuco","region":"9"},{"id":"201","name":"Carahue","region":"9"},{"id":"202","name":"Cunco","region":"9"},{"id":"203","name":"Curarrehue","region":"9"},{"id":"204","name":"Freire","region":"9"},{"id":"205","name":"Galvarino","region":"9"},{"id":"206","name":"Gorbea","region":"9"},{"id":"207","name":"Lautaro","region":"9"},{"id":"208","name":"Loncoche","region":"9"},{"id":"209","name":"Melipeuco","region":"9"},{"id":"210","name":"Nueva Imperial","region":"9"},{"id":"211","name":"Padre Las Casas","region":"9"},{"id":"212","name":"Perquenco","region":"9"},{"id":"213","name":"Pitrufquén","region":"9"},{"id":"214","name":"Pucón","region":"9"},{"id":"215","name":"Saavedra","region":"9"},{"id":"216","name":"Teodoro Schmidt","region":"9"},{"id":"217","name":"Toltén","region":"9"},{"id":"218","name":"Vilcún","region":"9"},{"id":"219","name":"Villarrica","region":"9"},{"id":"220","name":"Cholchol","region":"9"},{"id":"221","name":"Angol","region":"9"},{"id":"222","name":"Collipulli","region":"9"},{"id":"223","name":"Curacautín","region":"9"},{"id":"224","name":"Ercilla","region":"9"},{"id":"225","name":"Lonquimay","region":"9"},{"id":"226","name":"Los Sauces","region":"9"},{"id":"227","name":"Lumaco","region":"9"},{"id":"228","name":"Purén","region":"9"},{"id":"229","name":"Renaico","region":"9"},{"id":"230","name":"Traiguén","region":"9"},{"id":"231","name":"Victoria","region":"9"},{"id":"232","name":"Valdivia","region":"15"},{"id":"233","name":"Corral","region":"15"},{"id":"234","name":"Lanco","region":"15"},{"id":"235","name":"Los Lagos","region":"15"},{"id":"236","name":"Máfil","region":"15"},{"id":"237","name":"Mariquina","region":"15"},{"id":"238","name":"Paillaco","region":"15"},{"id":"239","name":"Panguipulli","region":"15"},{"id":"240","name":"La Unión","region":"15"},{"id":"241","name":"Futrono","region":"15"},{"id":"242","name":"Lago Ranco","region":"15"},{"id":"243","name":"Río Bueno","region":"15"},{"id":"244","name":"Puerto Montt","region":"10"},{"id":"245","name":"Calbuco","region":"10"},{"id":"246","name":"Cochamó","region":"10"},{"id":"247","name":"Fresia","region":"10"},{"id":"248","name":"Frutillar","region":"10"},{"id":"249","name":"Los Muermos","region":"10"},{"id":"250","name":"Llanquihue","region":"10"},{"id":"251","name":"Maullín","region":"10"},{"id":"252","name":"Puerto Varas","region":"10"},{"id":"253","name":"Castro","region":"10"},{"id":"254","name":"Ancud","region":"10"},{"id":"255","name":"Chonchi","region":"10"},{"id":"256","name":"Curaco de Vélez","region":"10"},{"id":"257","name":"Dalcahue","region":"10"},{"id":"258","name":"Puqueldón","region":"10"},{"id":"259","name":"Queilén","region":"10"},{"id":"260","name":"Quellón","region":"10"},{"id":"261","name":"Quemchi","region":"10"},{"id":"262","name":"Quinchao","region":"10"},{"id":"263","name":"Osorno","region":"10"},{"id":"264","name":"Puerto Octay","region":"10"},{"id":"265","name":"Purranque","region":"10"},{"id":"266","name":"Puyehue","region":"10"},{"id":"267","name":"Río Negro","region":"10"},{"id":"268","name":"San Juan de la Costa","region":"10"},{"id":"269","name":"San Pablo","region":"10"},{"id":"270","name":"Chaitén","region":"10"},{"id":"271","name":"Futaleufú","region":"10"},{"id":"272","name":"Hualaihué","region":"10"},{"id":"273","name":"Palena","region":"10"},{"id":"274","name":"Coyhaique","region":"11"},{"id":"275","name":"Lago Verde","region":"11"},{"id":"276","name":"Aisén","region":"11"},{"id":"277","name":"Cisnes","region":"11"},{"id":"278","name":"Guaitecas","region":"11"},{"id":"279","name":"Cochrane","region":"11"},{"id":"280","name":"O'Higgins","region":"11"},{"id":"281","name":"Tortel","region":"11"},{"id":"282","name":"Chile Chico","region":"11"},{"id":"283","name":"Río Ibañez","region":"11"},{"id":"284","name":"Punta Arenas","region":"12"},{"id":"285","name":"Laguna Blanca","region":"12"},{"id":"286","name":"Río Verde","region":"12"},{"id":"287","name":"San Gregorio","region":"12"},{"id":"288","name":"Cabo de Hornos (Ex-Navarino)","region":"12"},{"id":"289","name":"Antártica","region":"12"},{"id":"290","name":"Porvenir","region":"12"},{"id":"291","name":"Primavera","region":"12"},{"id":"292","name":"Timaukel","region":"12"},{"id":"293","name":"Natales","region":"12"},{"id":"294","name":"Torres del Paine","region":"12"},{"id":"295","name":"Santiago","region":"13"},{"id":"296","name":"Cerrillos","region":"13"},{"id":"297","name":"Carro Navia","region":"13"},{"id":"298","name":"Conchalí","region":"13"},{"id":"299","name":"El Bosque","region":"13"},{"id":"300","name":"Estación Central","region":"13"},{"id":"301","name":"Huechuraba","region":"13"},{"id":"302","name":"Independencia","region":"13"},{"id":"303","name":"La Cisterna","region":"13"},{"id":"304","name":"La Florida","region":"13"},{"id":"305","name":"La Granja","region":"13"},{"id":"306","name":"La Pintana","region":"13"},{"id":"307","name":"La Reina","region":"13"},{"id":"308","name":"Las Condes","region":"13"},{"id":"309","name":"Lo Barnechea","region":"13"},{"id":"310","name":"Lo Espejo","region":"13"},{"id":"311","name":"Lo Prado","region":"13"},{"id":"312","name":"Macul","region":"13"},{"id":"313","name":"Maipú","region":"13"},{"id":"314","name":"Ñuñoa","region":"13"},{"id":"315","name":"Pedro Aguirre Cerda","region":"13"},{"id":"316","name":"Peñalolén","region":"13"},{"id":"317","name":"Providencia","region":"13"},{"id":"318","name":"Pudahuel","region":"13"},{"id":"319","name":"Quilicura","region":"13"},{"id":"320","name":"Quinta Normal","region":"13"},{"id":"321","name":"Recoleta","region":"13"},{"id":"322","name":"Renca","region":"13"},{"id":"323","name":"San Joaquín","region":"13"},{"id":"324","name":"San Miguel","region":"13"},{"id":"325","name":"San Ramón","region":"13"},{"id":"326","name":"Vitacura","region":"13"},{"id":"327","name":"Puente Alto","region":"13"},{"id":"328","name":"Pirque","region":"13"},{"id":"329","name":"San José de Maipo","region":"13"},{"id":"330","name":"Colina","region":"13"},{"id":"331","name":"Lampa","region":"13"},{"id":"332","name":"Tiltil","region":"13"},{"id":"333","name":"San Bernardo","region":"13"},{"id":"334","name":"Buin","region":"13"},{"id":"335","name":"Calera de Tango","region":"13"},{"id":"336","name":"Paine","region":"13"},{"id":"337","name":"Melipilla","region":"13"},{"id":"338","name":"Alhué","region":"13"},{"id":"339","name":"Curacaví","region":"13"},{"id":"340","name":"María Pinto","region":"13"},{"id":"341","name":"San Pedro","region":"13"},{"id":"342","name":"Talagante","region":"13"},{"id":"343","name":"El Monte","region":"13"},{"id":"344","name":"Isla de Maipo","region":"13"},{"id":"345","name":"Padre Hurtado","region":"13"},{"id":"346","name":"Peñaflor","region":"13"}]}};
    
    
    $('#regionSelectContainer select option').click(function(){
       // capta la región seleccionada
       $selectedRegion = $('#regionSelectContainer select').val();
       
       $selectOuput = '';
       
       $('#communeSelectContainer select').empty();
       
       for( i=0 ; i < $communes.listOfCommunes.commune.length; i++){
           
           if($communes.listOfCommunes.commune[i].region == $selectedRegion)
               $('#communeSelectContainer select').append($("<option></option>").attr("value", $communes.listOfCommunes.commune[i].id).text($communes.listOfCommunes.commune[i].name));
               //$selectOuput += '<option value="' + $communes.listOfCommunes.commune[i].id + '">' + $communes.listOfCommunes.commune[i].name + '</option>'
               //$citiesInSelectedRegion += $communes.listOfCommunes.commune[i].name;
       }
       
       //$('#communeSelectContainer select').empty().append($selectOutput);
    });
})

